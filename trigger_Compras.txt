CREATE OR REPLACE TRIGGER trigger_Compras
AFTER INSERT ON DETALLE_COMPRA
	FOR EACH ROW
	DECLARE
	nueva_cantidad NUMBER;
	BEGIN
	SELECT CANTIDAD INTO nueva_cantidad FROM PRODUCTOS WHERE ID_PRODUCTO = :NEW.ID_PRODUCTO;
	nueva_cantidad := nueva_cantidad + :NEW.CANTIDAD;
	UPDATE PRODUCTOS SET CANTIDAD = nueva_cantidad WHERE ID_PRODUCTO = :NEW.ID_PRODUCTO;
END trigger_Compras;
/